<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diccionario de Estados de Subtipificaci√≥n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4A90E2 0%, #50C9C3 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4A90E2 0%, #50C9C3 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .search-box {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }
        
        .search-box input {
            width: 100%;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #4A90E2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }
        
        .content {
            padding: 30px;
        }
        
        .category {
            margin-bottom: 40px;
        }
        
        .category-title {
            background: linear-gradient(135deg, #4A90E2 0%, #50C9C3 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 1.3em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .estado-card {
            background: #f8f9fa;
            border-left: 4px solid #4A90E2;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .estado-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .estado-nombre {
            font-size: 1.2em;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 10px;
        }
        
        .estado-descripcion {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .estado-accion {
            display: inline-block;
            background: #4A90E2;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 500;
            margin-right: 5px;
        }
        
        .tag-exito {
            background: #d4edda;
            color: #155724;
        }
        
        .tag-error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .tag-advertencia {
            background: #fff3cd;
            color: #856404;
        }
        
        .tag-info {
            background: #d1ecf1;
            color: #0c5460;
        }

        .hidden {
            display: none;
        }
        
        .no-results {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-size: 1.2em;
        }

        .export-section {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 2px solid #e9ecef;
        }

        .export-btn {
            background: linear-gradient(135deg, #4A90E2 0%, #50C9C3 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1em;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(74, 144, 226, 0.3);
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(74, 144, 226, 0.4);
        }

        .footer {
            background: white;
            padding: 30px;
            text-align: center;
            border-top: 2px solid #e9ecef;
        }

        .footer img {
            max-width: 250px;
            height: auto;
            margin-bottom: 15px;
        }

        .footer-text {
            color: #6c757d;
            font-size: 0.9em;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìã Diccionario de Estados de Subtipificaci√≥n</h1>
            <p>Gu√≠a completa de resultados de validaci√≥n de facturas</p>
        </div>
        
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="üîç Buscar por estado, descripci√≥n o tipo de error...">
        </div>
        
        <div class="content" id="contentArea">
            <!-- CATEGOR√çA 1: ESTADOS EXITOSOS -->
            <div class="category">
                <div class="category-title">‚úÖ Estados Exitosos</div>
                
                <div class="estado-card" data-keywords="facturar exitoso correcto validado aprobado">
                    <div class="estado-nombre">Facturar</div>
                    <div class="estado-descripcion">
                        El registro cumple con todos los requisitos necesarios y est√° listo para ser facturado. Todos los datos de autorizaci√≥n, vales y tarifas est√°n correctos.
                    </div>
                    <span class="tag tag-exito">‚úì Aprobado</span>
                    <span class="estado-accion">Proceder a facturaci√≥n</span>
                </div>
            </div>

            <!-- CATEGOR√çA 2: VALIDACI√ìN MANUAL -->
            <div class="category">
                <div class="category-title">‚ö†Ô∏è Requiere Validaci√≥n Manual</div>

                <div class="estado-card" data-keywords="consultar proceso facturacion desconocido no identificado negocio entidad">
                    <div class="estado-nombre">Consultar Proceso de Facturaci√≥n</div>
                    <div class="estado-descripcion">
                        El caso no coincide con ninguna regla conocida de subtipificaci√≥n. Se debe solicitar al √°rea de negocio informaci√≥n sobre a qui√©n le pertenece facturar esa entidad o c√≥mo se debe realizar el proceso de facturaci√≥n.
                    </div>
                    <span class="tag tag-advertencia">‚ö† Consultar con negocio</span>
                    <span class="estado-accion">Solicitar informaci√≥n a negocio</span>
                </div>

                <div class="estado-card" data-keywords="sin reportar sede convenios externos">
                    <div class="estado-nombre">Sin Reportar por parte de la sede</div>
                    <div class="estado-descripcion">
                        Aplica espec√≠ficamente a "Convenios Externos" donde la sede no ha reportado la informaci√≥n necesaria para procesar la facturaci√≥n.
                    </div>
                    <span class="tag tag-info">‚Ñπ Pendiente de sede</span>
                    <span class="estado-accion">Esperar reporte de sede</span>
                </div>
            </div>

            <!-- CATEGOR√çA 3: ERRORES DE N√öMERO DE VALE -->
            <div class="category">
                <div class="category-title">üé´ Errores de N√∫mero de Vale</div>
                
                <div class="estado-card" data-keywords="sin numero vale faltante vacio blanco">
                    <div class="estado-nombre">Sin N√∫mero de Vale</div>
                    <div class="estado-descripcion">
                        El campo de n√∫mero de vale est√° vac√≠o o en blanco, pero es requerido para este tipo de servicio (consultas en Colsanitas o Medisanitas).
                    </div>
                    <span class="tag tag-error">‚úó Dato faltante</span>
                    <span class="estado-accion">Solicitar n√∫mero de vale</span>
                </div>

                <div class="estado-card" data-keywords="formato vale incorrecto invalido texto espacios guiones puntos">
                    <div class="estado-nombre">Formato de Vale Incorrecto</div>
                    <div class="estado-descripcion">
                        El n√∫mero de vale no tiene el formato correcto. Debe ser √∫nicamente n√∫meros (sin espacios, guiones, puntos o texto adicional).
                    </div>
                    <span class="tag tag-error">‚úó Formato inv√°lido</span>
                    <span class="estado-accion">Corregir formato del vale</span>
                </div>

                <div class="estado-card" data-keywords="numero vale cero 0">
                    <div class="estado-nombre">N√∫mero de Vale en Cero</div>
                    <div class="estado-descripcion">
                        El n√∫mero de vale est√° registrado como "0" (cero), lo cual no es un valor v√°lido para identificar una autorizaci√≥n de servicio.
                    </div>
                    <span class="tag tag-error">‚úó Valor inv√°lido</span>
                    <span class="estado-accion">Ingresar vale v√°lido</span>
                </div>
            </div>

            <!-- CATEGOR√çA 4: ERRORES DE N√öMERO DE AUTORIZACI√ìN -->
            <div class="category">
                <div class="category-title">üîê Errores de N√∫mero de Autorizaci√≥n</div>
                
                <div class="estado-card" data-keywords="sin numero autorizacion faltante vacio blanco">
                    <div class="estado-nombre">Sin N√∫mero de Autorizaci√≥n</div>
                    <div class="estado-descripcion">
                        El campo de n√∫mero de autorizaci√≥n est√° vac√≠o o en blanco, pero es requerido para este tipo de insumo o servicio.
                    </div>
                    <span class="tag tag-error">‚úó Dato faltante</span>
                    <span class="estado-accion">Solicitar autorizaci√≥n</span>
                </div>

                <div class="estado-card" data-keywords="formato autorizacion incorrecto invalido texto espacios guiones puntos">
                    <div class="estado-nombre">Formato de Autorizaci√≥n Incorrecto</div>
                    <div class="estado-descripcion">
                        El n√∫mero de autorizaci√≥n no cumple con el formato requerido. Debe ser √∫nicamente n√∫meros (sin espacios, guiones, puntos o texto) y tener al menos 6 d√≠gitos.
                    </div>
                    <span class="tag tag-error">‚úó Formato inv√°lido</span>
                    <span class="estado-accion">Corregir formato</span>
                </div>

                <div class="estado-card" data-keywords="numero autorizacion cero 0">
                    <div class="estado-nombre">N√∫mero de Autorizaci√≥n en Cero</div>
                    <div class="estado-descripcion">
                        El n√∫mero de autorizaci√≥n est√° registrado como "0" (cero), lo cual no es v√°lido. Se requiere un n√∫mero de autorizaci√≥n real.
                    </div>
                    <span class="tag tag-error">‚úó Valor inv√°lido</span>
                    <span class="estado-accion">Ingresar autorizaci√≥n v√°lida</span>
                </div>
            </div>

            <!-- CATEGOR√çA 5: ERRORES DE TARIFA -->
            <div class="category">
                <div class="category-title">üí∞ Errores de Tarifa</div>
                
                <div class="estado-card" data-keywords="sin tarifa cuota faltante vacio blanco">
                    <div class="estado-nombre">Sin Tarifa de Cuota</div>
                    <div class="estado-descripcion">
                        El campo de tarifa de cuota est√° vac√≠o, pero es requerido para este tipo de servicio. La tarifa debe estar registrada.
                    </div>
                    <span class="tag tag-error">‚úó Dato faltante</span>
                    <span class="estado-accion">Registrar tarifa</span>
                </div>

                <div class="estado-card" data-keywords="tarifa cero 0">
                    <div class="estado-nombre">Tarifa en Cero / Tarifa de Cuota en Cero</div>
                    <div class="estado-descripcion">
                        La tarifa est√° registrada como "0" (cero), lo cual no es v√°lido. Debe tener un valor correspondiente a las tarifas aceptadas.
                    </div>
                    <span class="tag tag-error">‚úó Valor inv√°lido</span>
                    <span class="estado-accion">Ingresar tarifa correcta</span>
                </div>

                <div class="estado-card" data-keywords="tarifa cuota incorrecta invalida no aceptada eps sanitas">
                    <div class="estado-nombre">Tarifa de Cuota Incorrecta</div>
                    <div class="estado-descripcion">
                        La tarifa ingresada no est√° dentro de las tarifas aceptadas (18200, 19200, 4500, 4700, 50300, 47700, 8000) dentro de la entidad EPS Sanitas. Se debe usar una de las tarifas v√°lidas.
                    </div>
                    <span class="tag tag-error">‚úó Tarifa no v√°lida</span>
                    <span class="estado-accion">Usar tarifa aceptada</span>
                </div>

                <div class="estado-card" data-keywords="formato tarifa incorrecto invalido">
                    <div class="estado-nombre">Formato de Tarifa Incorrecto</div>
                    <div class="estado-descripcion">
                        El valor de la tarifa no tiene un formato num√©rico v√°lido. Debe ser un n√∫mero sin texto adicional.
                    </div>
                    <span class="tag tag-error">‚úó Formato inv√°lido</span>
                    <span class="estado-accion">Corregir formato</span>
                </div>
            </div>

            <!-- CATEGOR√çA 6: ERRORES COMBINADOS -->
            <div class="category">
                <div class="category-title">üîÑ Errores Combinados</div>
                
                <div class="estado-card" data-keywords="sin autorizacion sin tarifa doble error">
                    <div class="estado-nombre">Sin N√∫mero de Autorizaci√≥n y Sin Tarifa de Cuota</div>
                    <div class="estado-descripcion">
                        Faltan ambos campos: el n√∫mero de autorizaci√≥n y la tarifa de cuota. Ambos son requeridos.
                    </div>
                    <span class="tag tag-error">‚úó M√∫ltiples datos faltantes</span>
                    <span class="estado-accion">Completar ambos campos</span>
                </div>

                <div class="estado-card" data-keywords="sin autorizacion formato tarifa incorrecto">
                    <div class="estado-nombre">Sin N√∫mero de Autorizaci√≥n y Formato de Tarifa Incorrecto</div>
                    <div class="estado-descripcion">
                        Falta el n√∫mero de autorizaci√≥n y adem√°s la tarifa tiene un formato incorrecto.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Completar autorizaci√≥n y corregir tarifa</span>
                </div>

                <div class="estado-card" data-keywords="sin autorizacion tarifa cero">
                    <div class="estado-nombre">Sin N√∫mero de Autorizaci√≥n y Tarifa en Cero</div>
                    <div class="estado-descripcion">
                        Falta el n√∫mero de autorizaci√≥n y la tarifa est√° en cero.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Completar autorizaci√≥n e ingresar tarifa</span>
                </div>

                <div class="estado-card" data-keywords="sin autorizacion tarifa incorrecta">
                    <div class="estado-nombre">Sin N√∫mero de Autorizaci√≥n y Tarifa de Cuota Incorrecta</div>
                    <div class="estado-descripcion">
                        Falta el n√∫mero de autorizaci√≥n y adem√°s la tarifa no es una de las aceptadas.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Completar autorizaci√≥n y usar tarifa v√°lida</span>
                </div>

                <div class="estado-card" data-keywords="formato autorizacion sin tarifa">
                    <div class="estado-nombre">Formato de Autorizaci√≥n Incorrecto y Sin Tarifa de Cuota</div>
                    <div class="estado-descripcion">
                        El formato de la autorizaci√≥n es incorrecto y adem√°s falta la tarifa.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Corregir autorizaci√≥n y agregar tarifa</span>
                </div>

                <div class="estado-card" data-keywords="formato autorizacion formato tarifa">
                    <div class="estado-nombre">Formato de Autorizaci√≥n Incorrecto y Formato de Tarifa Incorrecto</div>
                    <div class="estado-descripcion">
                        Ambos campos tienen formato incorrecto: la autorizaci√≥n y la tarifa.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Corregir ambos formatos</span>
                </div>

                <div class="estado-card" data-keywords="formato autorizacion tarifa cero">
                    <div class="estado-nombre">Formato de Autorizaci√≥n Incorrecto y Tarifa en Cero</div>
                    <div class="estado-descripcion">
                        El formato de la autorizaci√≥n es incorrecto y la tarifa est√° en cero.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Corregir autorizaci√≥n e ingresar tarifa</span>
                </div>

                <div class="estado-card" data-keywords="formato autorizacion tarifa incorrecta">
                    <div class="estado-nombre">Formato de Autorizaci√≥n Incorrecto y Tarifa de Cuota Incorrecta</div>
                    <div class="estado-descripcion">
                        El formato de la autorizaci√≥n es incorrecto y la tarifa no es v√°lida.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Corregir autorizaci√≥n y usar tarifa v√°lida</span>
                </div>

                <div class="estado-card" data-keywords="autorizacion cero sin tarifa">
                    <div class="estado-nombre">N√∫mero de Autorizaci√≥n en Cero y Sin Tarifa de Cuota</div>
                    <div class="estado-descripcion">
                        La autorizaci√≥n est√° en cero y falta la tarifa.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Ingresar autorizaci√≥n v√°lida y tarifa</span>
                </div>

                <div class="estado-card" data-keywords="autorizacion cero formato tarifa">
                    <div class="estado-nombre">N√∫mero de Autorizaci√≥n en Cero y Formato de Tarifa Incorrecto</div>
                    <div class="estado-descripcion">
                        La autorizaci√≥n est√° en cero y el formato de la tarifa es incorrecto.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Ingresar autorizaci√≥n v√°lida y corregir tarifa</span>
                </div>

                <div class="estado-card" data-keywords="autorizacion cero tarifa cero doble cero">
                    <div class="estado-nombre">N√∫mero de Autorizaci√≥n en Cero y Tarifa en Cero</div>
                    <div class="estado-descripcion">
                        Ambos campos est√°n en cero: autorizaci√≥n y tarifa. Ambos necesitan valores v√°lidos.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Ingresar valores v√°lidos en ambos</span>
                </div>

                <div class="estado-card" data-keywords="autorizacion cero tarifa incorrecta">
                    <div class="estado-nombre">N√∫mero de Autorizaci√≥n en Cero y Tarifa de Cuota Incorrecta</div>
                    <div class="estado-descripcion">
                        La autorizaci√≥n est√° en cero y la tarifa no es una de las aceptadas.
                    </div>
                    <span class="tag tag-error">‚úó Error m√∫ltiple</span>
                    <span class="estado-accion">Ingresar autorizaci√≥n v√°lida y tarifa correcta</span>
                </div>
            </div>
        </div>

        <div class="no-results hidden" id="noResults">
            <p>üòî No se encontraron resultados para tu b√∫squeda</p>
        </div>

        <div class="export-section">
            <button class="export-btn" onclick="exportToCSV()">üì• Exportar a CSV</button>
        </div>

        <div class="footer">
            <img src="https://s3.us-east-2.amazonaws.com/privilegioscolsanitasdisk/temporal/1689104455Logo-Keralty_Colsanitas_1000x385px.jpg" alt="√ìpticas Keralty">
            <div class="footer-text">
                Sistema de Validaci√≥n de Subtipificaci√≥n | √ìpticas Keralty
            </div>
        </div>
    </div>

    <script>
        const searchInput = document.getElementById('searchInput');
        const contentArea = document.getElementById('contentArea');
        const noResults = document.getElementById('noResults');
        const cards = document.querySelectorAll('.estado-card');
        const categories = document.querySelectorAll('.category');

        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                categories.forEach(cat => cat.classList.remove('hidden'));
                cards.forEach(card => card.classList.remove('hidden'));
                noResults.classList.add('hidden');
                contentArea.classList.remove('hidden');
                return;
            }

            let hasResults = false;

            cards.forEach(card => {
                const nombre = card.querySelector('.estado-nombre').textContent.toLowerCase();
                const descripcion = card.querySelector('.estado-descripcion').textContent.toLowerCase();
                const keywords = card.getAttribute('data-keywords').toLowerCase();
                
                if (nombre.includes(searchTerm) || descripcion.includes(searchTerm) || keywords.includes(searchTerm)) {
                    card.classList.remove('hidden');
                    hasResults = true;
                } else {
                    card.classList.add('hidden');
                }
            });

            categories.forEach(category => {
                const visibleCards = category.querySelectorAll('.estado-card:not(.hidden)');
                if (visibleCards.length === 0) {
                    category.classList.add('hidden');
                } else {
                    category.classList.remove('hidden');
                }
            });

            if (!hasResults) {
                contentArea.classList.add('hidden');
                noResults.classList.remove('hidden');
            } else {
                contentArea.classList.remove('hidden');
                noResults.classList.add('hidden');
            }
        });

        function exportToCSV() {
            const data = [
                ['Estado', 'Descripci√≥n', 'Categor√≠a', 'Acci√≥n Recomendada'],
                ['Facturar', 'El registro cumple con todos los requisitos necesarios y est√° listo para ser facturado. Todos los datos de autorizaci√≥n, vales y tarifas est√°n correctos.', 'Estados Exitosos', 'Proceder a facturaci√≥n'],
                ['Consultar Proceso de Facturaci√≥n', 'El caso no coincide con ninguna regla conocida de subtipificaci√≥n. Se debe solicitar al √°rea de negocio informaci√≥n sobre a qui√©n le pertenece facturar esa entidad o c√≥mo se debe realizar el proceso de facturaci√≥n.', 'Requiere Validaci√≥n Manual', 'Solicitar informaci√≥n a negocio'],
                ['Sin Reportar por parte de la sede', 'Aplica espec√≠ficamente a "Convenios Externos" donde la sede no ha reportado la informaci√≥n necesaria para procesar la facturaci√≥n.', 'Requiere Validaci√≥n Manual', 'Esperar reporte de sede'],
                ['Sin N√∫mero de Vale', 'El campo de n√∫mero de vale est√° vac√≠o o en blanco, pero es requerido para este tipo de servicio (consultas en Colsanitas o Medisanitas).', 'Errores de N√∫mero de Vale', 'Solicitar n√∫mero de vale'],
                ['Formato de Vale Incorrecto', 'El n√∫mero de vale no tiene el formato correcto. Debe ser √∫nicamente n√∫meros (sin espacios, guiones, puntos o texto adicional).', 'Errores de N√∫mero de Vale', 'Corregir formato del vale'],
                ['N√∫mero de Vale en Cero', 'El n√∫mero de vale est√° registrado como "0" (cero), lo cual no es un valor v√°lido para identificar una autorizaci√≥n de servicio.', 'Errores de N√∫mero de Vale', 'Ingresar vale v√°lido'],
                ['Sin N√∫mero de Autorizaci√≥n', 'El campo de n√∫mero de autorizaci√≥n est√° vac√≠o o en blanco, pero es requerido para este tipo de insumo o servicio.', 'Errores de N√∫mero de Autorizaci√≥n', 'Solicitar autorizaci√≥n'],
                ['Formato de Autorizaci√≥n Incorrecto', 'El n√∫mero de autorizaci√≥n no cumple con el formato requerido. Debe ser √∫nicamente n√∫meros (sin espacios, guiones, puntos o texto) y tener al menos 6 d√≠gitos.', 'Errores de N√∫mero de Autorizaci√≥n', 'Corregir formato'],
                ['N√∫mero de Autorizaci√≥n en Cero', 'El n√∫mero de autorizaci√≥n est√° registrado como "0" (cero), lo cual no es v√°lido. Se requiere un n√∫mero de autorizaci√≥n real.', 'Errores de N√∫mero de Autorizaci√≥n', 'Ingresar autorizaci√≥n v√°lida'],
                ['Sin Tarifa de Cuota', 'El campo de tarifa de cuota est√° vac√≠o, pero es requerido para este tipo de servicio. La tarifa debe estar registrada.', 'Errores de Tarifa', 'Registrar tarifa'],
                ['Tarifa en Cero / Tarifa de Cuota en Cero', 'La tarifa est√° registrada como "0" (cero), lo cual no es v√°lido. Debe tener un valor correspondiente a las tarifas aceptadas.', 'Errores de Tarifa', 'Ingresar tarifa correcta'],
                ['Tarifa de Cuota Incorrecta', 'La tarifa ingresada no est√° dentro de las tarifas aceptadas (18200, 19200, 4500, 4700, 50300, 47700, 8000) dentro de la entidad EPS Sanitas. Se debe usar una de las tarifas v√°lidas.', 'Errores de Tarifa', 'Usar tarifa aceptada'],
                ['Formato de Tarifa Incorrecto', 'El valor de la tarifa no tiene un formato num√©rico v√°lido. Debe ser un n√∫mero sin texto adicional.', 'Errores de Tarifa', 'Corregir formato'],
                ['Sin N√∫mero de Autorizaci√≥n y Sin Tarifa de Cuota', 'Faltan ambos campos: el n√∫mero de autorizaci√≥n y la tarifa de cuota. Ambos son requeridos.', 'Errores Combinados', 'Completar ambos campos'],
                ['Sin N√∫mero de Autorizaci√≥n y Formato de Tarifa Incorrecto', 'Falta el n√∫mero de autorizaci√≥n y adem√°s la tarifa tiene un formato incorrecto.', 'Errores Combinados', 'Completar autorizaci√≥n y corregir tarifa'],
                ['Sin N√∫mero de Autorizaci√≥n y Tarifa en Cero', 'Falta el n√∫mero de autorizaci√≥n y la tarifa est√° en cero.', 'Errores Combinados', 'Completar autorizaci√≥n e ingresar tarifa'],
                ['Sin N√∫mero de Autorizaci√≥n y Tarifa de Cuota Incorrecta', 'Falta el n√∫mero de autorizaci√≥n y adem√°s la tarifa no es una de las aceptadas.', 'Errores Combinados', 'Completar autorizaci√≥n y usar tarifa v√°lida'],
                ['Formato de Autorizaci√≥n Incorrecto y Sin Tarifa de Cuota', 'El formato de la autorizaci√≥n es incorrecto y adem√°s falta la tarifa.', 'Errores Combinados', 'Corregir autorizaci√≥n y agregar tarifa'],
                ['Formato de Autorizaci√≥n Incorrecto y Formato de Tarifa Incorrecto', 'Ambos campos tienen formato incorrecto: la autorizaci√≥n y la tarifa.', 'Errores Combinados', 'Corregir ambos formatos'],
                ['Formato de Autorizaci√≥n Incorrecto y Tarifa en Cero', 'El formato de la autorizaci√≥n es incorrecto y la tarifa est√° en cero.', 'Errores Combinados', 'Corregir autorizaci√≥n e ingresar tarifa'],
                ['Formato de Autorizaci√≥n Incorrecto y Tarifa de Cuota Incorrecta', 'El formato de la autorizaci√≥n es incorrecto y la tarifa no es v√°lida.', 'Errores Combinados', 'Corregir autorizaci√≥n y usar tarifa v√°lida'],
                ['N√∫mero de Autorizaci√≥n en Cero y Sin Tarifa de Cuota', 'La autorizaci√≥n est√° en cero y falta la tarifa.', 'Errores Combinados', 'Ingresar autorizaci√≥n v√°lida y tarifa'],
                ['N√∫mero de Autorizaci√≥n en Cero y Formato de Tarifa Incorrecto', 'La autorizaci√≥n est√° en cero y el formato de la tarifa es incorrecto.', 'Errores Combinados', 'Ingresar autorizaci√≥n v√°lida y corregir tarifa'],
                ['N√∫mero de Autorizaci√≥n en Cero y Tarifa en Cero', 'Ambos campos est√°n en cero: autorizaci√≥n y tarifa. Ambos necesitan valores v√°lidos.', 'Errores Combinados', 'Ingresar valores v√°lidos en ambos'],
                ['N√∫mero de Autorizaci√≥n en Cero y Tarifa de Cuota Incorrecta', 'La autorizaci√≥n est√° en cero y la tarifa no es una de las aceptadas.', 'Errores Combinados', 'Ingresar autorizaci√≥n v√°lida y tarifa correcta']
            ];

            let csvContent = '\uFEFF';
            data.forEach(row => {
                const escapedRow = row.map(cell => `"${cell.replace(/"/g, '""')}"`);
                csvContent += escapedRow.join(',') + '\n';
            });

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', 'diccionario_subtipificacion_keralty.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>